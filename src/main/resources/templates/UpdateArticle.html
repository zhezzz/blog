<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>修改文章</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" th:src="@{/static/js/ckeditor/ckeditor.js}"></script>
    <script type="text/javascript" th:src="@{/static/js/ckeditor/translations/zh-cn.js}"></script>
</head>
<body>

<form th:action="${#request.getContextPath()} + '/article/update/' + ${article.getArticleId()}" method="post">
    <input type="text" name="title" th:value="${article.getTitle()}">
    <textarea name="content" id="editor">
    </textarea>
    <input type="checkbox" name="isPublic" th:value="同时公开文章" checked="checked">
    <button type="submit" id="submit">保存</button>
</form>
<textarea style="display:none" id="content" th:text="${article.getContent()}"></textarea>
<script type="text/javascript">
    var content = document.getElementById('content').value;
    ClassicEditor
        .create( document.querySelector( '#editor' ), {
            language: 'zh-cn',
            ckfinder: {
                uploadUrl: '/article/upload'
            },
        } )
        .then( editor => {
        console.log( editor );
    editor.setData(content);
    } )
    .catch( error => {
        console.error( error );
    } );
</script>
</body>
</html>